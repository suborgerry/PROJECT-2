/*
Generated time: September 15, 2022 16:30
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
"object"==typeof Countries&&(Countries.updateProvinceLabel=function(e,t){"string"==typeof e&&Countries[e]&&Countries[e].provinces&&("object"!=typeof t&&null===(t=document.getElementById("address_province_label"))||(t.innerHTML=Countries[e].label,(t=jQuery(t).parent()).find("select"),t.find(".custom-style-select-box-inner").html(Countries[e].provinces[0])))}),void 0===Shopify.Cart&&(Shopify.Cart={}),Shopify.Cart.ShippingCalculator=function(){var _config={submitButton:"Calculate shipping",submitButtonDisabled:"Calculating...",templateId:"shipping-calculator-response-template",wrapperId:"wrapper-response",customerIsLoggedIn:!1,moneyFormat:"$ {{amount}}"},_render=function(e){var t=jQuery("#"+_config.templateId),r=jQuery("#"+_config.wrapperId);t.length&&r.length&&(t.tmpl(e).appendTo(r),"undefined"!=typeof Currency&&"function"==typeof Currency.convertAll&&(t="",jQuery("[name=currencies]").size()?t=jQuery("[name=currencies]").val():jQuery("#currencies span.selected").size()&&(t=jQuery("#currencies span.selected").attr("data-currency")),""!==t&&Currency.convertAll(shopCurrency,t,"#wrapper-response span.money, #estimated-shipping em span.money")))},_enableButtons=function(){jQuery(".get-rates").removeAttr("disabled").removeClass("disabled").val(_config.submitButton)},_disableButtons=function(){jQuery(".get-rates").val(_config.submitButtonDisabled).attr("disabled","disabled").addClass("disabled")},_getCartShippingRatesForDestination=function(t){var e={type:"GET",url:"/cart/shipping_rates.json",data:jQuery.param({shipping_address:t}),dataType:"json",success:function(e){rates=e.shipping_rates,_onCartShippingRatesUpdate(rates,t)},error:function(e,t){_onError(e,t)}};jQuery.ajax(e)},_fullMessagesFromErrors=function(e){var n=[];return jQuery.each(e,function(r,e){jQuery.each(e,function(e,t){n.push(r+" "+t)})}),n},_onError=function(XMLHttpRequest,textStatus){jQuery("#estimated-shipping").hide(),jQuery("#estimated-shipping em").empty(),_enableButtons();var feedback="",data,feedback;""!=XMLHttpRequest.responseText?(data=eval("("+XMLHttpRequest.responseText+")"),feedback=data.message?data.message+"("+data.status+"): "+data.description:"Error : "+_fullMessagesFromErrors(data).join("; "),"Error : country is not supported."===feedback&&(feedback="We do not ship to this destination.")):feedback="Error : Code is invalid",_render({rates:[],errorFeedback:feedback,success:!1}),jQuery("#"+_config.wrapperId).show()},_onCartShippingRatesUpdate=function(e,t){_enableButtons();var r="";t.zip&&(r+=t.zip+", "),t.province&&(r+=t.province+", "),r+=t.country,e.length&&("0.00"==e[0].price?jQuery("#estimated-shipping em").html("FREE"):jQuery("#estimated-shipping em").html(_formatRate(e[0].price))),_render({rates:e,address:r,success:!0}),jQuery("#"+_config.wrapperId+", #estimated-shipping").fadeIn()},_formatRate=function(e){function t(e){return e.replace(/(\d+)(\d{3}[\.,]?)/,"$1,$2")}function r(e,t){e=e.toFixed(t).toString();return e.match(/^\.\d+/)?"0"+e:e}"string"==typeof e&&(e=e.replace(".",""));var n="",a=/\{\{\s*(\w+)\s*\}\}/,s=_config.moneyFormat;switch(s.match(a)[1]){case"amount":n=t(r(e/100,2));break;case"amount_no_decimals":n=t(r(e/100,0));break;case"amount_with_comma_separator":n=r(e/100,2).replace(/\./,",");break;case"amount_no_decimals_with_comma_separator":n=t(r(e/100,0)).replace(/\./,",")}return s.replace(a,n)};return _init=function(){new Shopify.CountryProvinceSelector("address_country","address_province",{hideElement:"address_province_container"});var e=jQuery("#address_country"),t=jQuery("#address_province_label").get(0);"undefined"!=typeof Countries&&(Countries.updateProvinceLabel(e.val(),t),e.change(function(){Countries.updateProvinceLabel(e.val(),t)})),jQuery(".get-rates").click(function(e){e.preventDefault(),_disableButtons(),jQuery("#"+_config.wrapperId).empty().hide();e={};e.zip=jQuery("#address_zip").val()||"",e.country=jQuery("#address_country").val()||"",e.province=jQuery("#address_province").val()||"",_getCartShippingRatesForDestination(e)}),_config.customerIsLoggedIn&&jQuery(".get-rates:eq(0)").trigger("click")},{show:function(e){e=e||{},jQuery.extend(_config,e),jQuery(function(){_init()})},getConfig:function(){return _config},formatRate:function(e){return _formatRate(e)}}}();